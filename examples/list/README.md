<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# List Protected Items Example

This example demonstrates listing all protected items (replicated VMs) in a vault.

```hcl
terraform {
  required_version = ">= 1.9"

  required_providers {
    azapi = {
      source  = "azure/azapi"
      version = "~> 2.4"
    }
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "~> 4.0"
    }
  }
}

provider "azurerm" {
  features {}
  subscription_id = "f6f66a94-f184-45da-ac12-ffbfd8a6eb29"
}

provider "azapi" {
  subscription_id = "f6f66a94-f184-45da-ac12-ffbfd8a6eb29"
}

# ========================================
# Example 1: List All Protected Items by Project
# ========================================

module "list_by_project" {
  source = "../.."

  location = "eastus"
  # Required variables
  name                = "migrate-list"
  resource_group_name = "saifaldinali-vmw-ga-bb-rg"
  instance_type       = "VMwareToAzStackHCI"
  # Operation mode
  operation_mode = "list"
  # List by project name (vault will be auto-discovered)
  project_name = "saifaldinali-vmw-ga-bb"
  # Tags
  tags = {
    Environment = "Test"
    Purpose     = "ListProtectedItems"
  }
}

# ========================================
# Example 2: List Protected Items by Vault ID
# ========================================

module "list_by_vault" {
  source = "../.."

  location = "eastus"
  # Required variables
  name                = "migrate-list-vault"
  resource_group_name = "saifaldinali-vmw-ga-bb-rg"
  instance_type       = "VMwareToAzStackHCI"
  # Operation mode
  operation_mode = "list"
  # List by explicit vault ID
  replication_vault_id = "/subscriptions/f6f66a94-f184-45da-ac12-ffbfd8a6eb29/resourceGroups/saifaldinali-vmw-ga-bb-rg/providers/Microsoft.DataReplication/replicationVaults/saifaldinaliVMWGABBreplicationvault"
  # Tags
  tags = {
    Environment = "Test"
    Purpose     = "ListProtectedItems"
  }
}

# ========================================
# OUTPUTS - Example 1
# ========================================






# ========================================
# OUTPUTS - Example 2
# ========================================



# ========================================
# DERIVED OUTPUTS - Useful Statistics
# ========================================





```

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.9)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (~> 2.4)

- <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) (~> 4.0)

## Resources

No resources.

<!-- markdownlint-disable MD013 -->
## Required Inputs

No required inputs.

## Optional Inputs

No optional inputs.

## Outputs

The following outputs are exported:

### <a name="output_healthy_items_count"></a> [healthy\_items\_count](#output\_healthy\_items\_count)

Description: Count of items with Normal health

### <a name="output_items_by_health"></a> [items\_by\_health](#output\_items\_by\_health)

Description: Protected items grouped by replication health

### <a name="output_items_by_state"></a> [items\_by\_state](#output\_items\_by\_state)

Description: Protected items grouped by protection state

### <a name="output_items_needing_attention_count"></a> [items\_needing\_attention\_count](#output\_items\_needing\_attention\_count)

Description: Count of items with health errors

### <a name="output_items_ready_for_migrate"></a> [items\_ready\_for\_migrate](#output\_items\_ready\_for\_migrate)

Description: Items that can perform migration

### <a name="output_items_ready_for_test_migrate"></a> [items\_ready\_for\_test\_migrate](#output\_items\_ready\_for\_test\_migrate)

Description: Items that can perform test migration

### <a name="output_items_requiring_resync"></a> [items\_requiring\_resync](#output\_items\_requiring\_resync)

Description: Items that require resynchronization

### <a name="output_items_with_errors"></a> [items\_with\_errors](#output\_items\_with\_errors)

Description: Protected items that have health errors

### <a name="output_protected_items_summary"></a> [protected\_items\_summary](#output\_protected\_items\_summary)

Description: Summary of all protected items

### <a name="output_total_protected_items"></a> [total\_protected\_items](#output\_total\_protected\_items)

Description: Total number of replicated VMs

### <a name="output_vault_protected_items_count"></a> [vault\_protected\_items\_count](#output\_vault\_protected\_items\_count)

Description: Number of protected items in vault

### <a name="output_vault_protected_items_names"></a> [vault\_protected\_items\_names](#output\_vault\_protected\_items\_names)

Description: Names of all protected items in vault

## Modules

The following Modules are called:

### <a name="module_list_by_project"></a> [list\_by\_project](#module\_list\_by\_project)

Source: ../..

Version:

### <a name="module_list_by_vault"></a> [list\_by\_vault](#module\_list\_by\_vault)

Source: ../..

Version:

## Usage

See the [README.md](./README.md) for detailed information about the list operation mode.
<!-- END_TF_DOCS -->