<!-- BEGIN_TF_DOCS -->
<!-- Code generated by terraform-docs. DO NOT EDIT. -->
# Migrate (Planned Failover) Example

This example demonstrates performing a production migration (planned failover) of a VM to Azure Stack HCI.

⚠️ **WARNING:** This performs a PRODUCTION migration. The VM will be cut over to Azure Stack HCI.

```hcl
terraform {
  required_version = ">= 1.9"

  required_providers {
    azapi = {
      source  = "azure/azapi"
      version = "~> 2.4"
    }
    azurerm = {
      source  = "hashicorp/azurerm"
      version = "~> 4.0"
    }
  }
}

provider "azurerm" {
  features {}
  subscription_id = "f6f66a94-f184-45da-ac12-ffbfd8a6eb29"
}

provider "azapi" {
  subscription_id = "f6f66a94-f184-45da-ac12-ffbfd8a6eb29"
}

# ========================================
# Example 1: Migrate with Source VM Shutdown
# ========================================

module "migrate_with_shutdown" {
  source = "../.."

  location = "eastus"
  # Required variables
  name                = "migrate-vm-shutdown"
  resource_group_name = "saifaldinali-vmw-ga-bb-rg"
  instance_type       = "VMwareToAzStackHCI"
  # Operation mode
  operation_mode = "migrate"
  # Protected item to migrate
  protected_item_id = "/subscriptions/f6f66a94-f184-45da-ac12-ffbfd8a6eb29/resourceGroups/saifaldinali-vmw-ga-bb-rg/providers/Microsoft.DataReplication/replicationVaults/saifaldinaliVMWGABBreplicationvault/protectedItems/your-vm-name"
  # Shutdown source VM before migration (RECOMMENDED for data consistency)
  shutdown_source_vm = true
  # Tags
  tags = {
    Environment   = "Production"
    Purpose       = "Migration"
    MigrationType = "PlannedFailover"
  }
}

# ========================================
# Example 2: Migrate without Source VM Shutdown
# ========================================

module "migrate_without_shutdown" {
  source = "../.."

  location = "eastus"
  # Required variables
  name                = "migrate-vm-no-shutdown"
  resource_group_name = "saifaldinali-vmw-ga-bb-rg"
  instance_type       = "VMwareToAzStackHCI"
  # Operation mode
  operation_mode = "migrate"
  # Protected item to migrate
  protected_item_id = "/subscriptions/f6f66a94-f184-45da-ac12-ffbfd8a6eb29/resourceGroups/saifaldinali-vmw-ga-bb-rg/providers/Microsoft.DataReplication/replicationVaults/saifaldinaliVMWGABBreplicationvault/protectedItems/your-vm-name"
  # Do NOT shutdown source VM (less safe but faster)
  shutdown_source_vm = false
  # Tags
  tags = {
    Environment   = "Development"
    Purpose       = "Migration"
    MigrationType = "PlannedFailover"
  }
}

# ========================================
# OUTPUTS - Example 1
# ========================================






# ========================================
# OUTPUTS - Example 2
# ========================================


# ========================================
# DERIVED OUTPUTS - Pre-Migration Checks
# ========================================

```

<!-- markdownlint-disable MD033 -->
## Requirements

The following requirements are needed by this module:

- <a name="requirement_terraform"></a> [terraform](#requirement\_terraform) (>= 1.9)

- <a name="requirement_azapi"></a> [azapi](#requirement\_azapi) (~> 2.4)

- <a name="requirement_azurerm"></a> [azurerm](#requirement\_azurerm) (~> 4.0)

## Resources

No resources.

<!-- markdownlint-disable MD013 -->
## Required Inputs

No required inputs.

## Optional Inputs

No optional inputs.

## Outputs

The following outputs are exported:

### <a name="output_async_operation_url"></a> [async\_operation\_url](#output\_async\_operation\_url)

Description: Async operation URL for tracking migration progress

### <a name="output_migration_details"></a> [migration\_details](#output\_migration\_details)

Description: Detailed migration operation information

### <a name="output_migration_readiness_check"></a> [migration\_readiness\_check](#output\_migration\_readiness\_check)

Description: Pre-migration readiness assessment

### <a name="output_migration_status"></a> [migration\_status](#output\_migration\_status)

Description: Status of the migration operation

### <a name="output_migration_status_no_shutdown"></a> [migration\_status\_no\_shutdown](#output\_migration\_status\_no\_shutdown)

Description: Status of migration without shutdown

### <a name="output_protected_item_info"></a> [protected\_item\_info](#output\_protected\_item\_info)

Description: Information about the protected item before migration

### <a name="output_validation_warnings"></a> [validation\_warnings](#output\_validation\_warnings)

Description: Any warnings detected before migration

## Modules

The following Modules are called:

### <a name="module_migrate_with_shutdown"></a> [migrate\_with\_shutdown](#module\_migrate\_with\_shutdown)

Source: ../..

Version:

### <a name="module_migrate_without_shutdown"></a> [migrate\_without\_shutdown](#module\_migrate\_without\_shutdown)

Source: ../..

Version:

## Usage

See the [README.md](./README.md) for detailed information about the migrate operation mode.

⚠️ **IMPORTANT:** Review the README carefully before running this operation. This is a production migration.
<!-- END_TF_DOCS -->